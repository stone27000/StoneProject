CREATE DATABASE  IF NOT EXISTS `bigwork` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `bigwork`;
-- MySQL dump 10.13  Distrib 8.0.43, for Win64 (x86_64)
--
-- Host: localhost    Database: bigwork
-- ------------------------------------------------------
-- Server version	8.0.43

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `wallet_transactions`
--

DROP TABLE IF EXISTS `wallet_transactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `wallet_transactions` (
  `tx_id` bigint NOT NULL AUTO_INCREMENT COMMENT '交易 ID',
  `wallet_id` bigint NOT NULL COMMENT '哪個錢包',
  `type` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL COMMENT '交易類型 (TOPUP, WITHDRAWAL, PURCHASE)',
  `amount` decimal(10,2) NOT NULL COMMENT '交易金額 (正數為入帳, 負數為出帳)',
  `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '交易時間',
  PRIMARY KEY (`tx_id`),
  KEY `fk_wallet_transactions_wallets_idx` (`wallet_id`),
  CONSTRAINT `fk_wallet_transactions_wallets` FOREIGN KEY (`wallet_id`) REFERENCES `wallets` (`wallet_id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=90 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='錢包交易明細 (存摺)';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `wallet_transactions`
--

LOCK TABLES `wallet_transactions` WRITE;
/*!40000 ALTER TABLE `wallet_transactions` DISABLE KEYS */;
INSERT INTO `wallet_transactions` VALUES (1,1,'TOPUP',100.00,'2025-11-05 06:09:55'),(2,1,'TOPUP',10.00,'2025-11-05 06:10:20'),(3,2,'TOPUP',10001.00,'2025-11-05 06:31:28'),(4,2,'WITHDRAWAL',-101.00,'2025-11-05 06:31:59'),(5,1,'PURCHASE',-1879.90,'2025-11-06 06:23:13'),(6,2,'PAYMENT_RECEIVED',1879.90,'2025-11-06 06:23:13'),(7,2,'WITHDRAWAL',-2.00,'2025-11-10 09:08:51'),(8,2,'WITHDRAWAL',-6.00,'2025-11-10 09:09:02'),(9,2,'WITHDRAWAL',-100.00,'2025-11-10 09:10:24'),(10,2,'WITHDRAWAL',-100.00,'2025-11-10 09:27:24'),(11,2,'WITHDRAWAL',-100.00,'2025-11-10 09:27:38'),(12,1,'PURCHASE',-120.00,'2025-11-11 07:55:11'),(13,2,'PAYMENT_RECEIVED',120.00,'2025-11-11 07:55:11'),(14,1,'TOPUP',100.00,'2025-11-11 08:14:44'),(15,1,'PURCHASE',-1390.00,'2025-11-11 08:50:02'),(16,2,'PAYMENT_RECEIVED',1390.00,'2025-11-11 08:50:02'),(17,1,'PURCHASE',-236.00,'2025-11-12 03:51:45'),(18,2,'PAYMENT_RECEIVED',236.00,'2025-11-12 03:51:46'),(19,1,'TOPUP',100.00,'2025-11-12 08:24:17'),(20,1,'TOPUP',100.00,'2025-11-12 08:24:19'),(21,1,'PURCHASE',-180.00,'2025-11-12 08:24:32'),(22,2,'PAYMENT_RECEIVED',30.00,'2025-11-12 08:24:32'),(23,7,'PAYMENT_RECEIVED',150.00,'2025-11-12 08:24:32'),(24,1,'PURCHASE',-266.00,'2025-11-12 08:25:55'),(25,2,'PAYMENT_RECEIVED',176.00,'2025-11-12 08:25:55'),(26,7,'PAYMENT_RECEIVED',90.00,'2025-11-12 08:25:55'),(27,1,'PURCHASE',-118.00,'2025-11-12 08:28:27'),(28,2,'PAYMENT_RECEIVED',88.00,'2025-11-12 08:28:27'),(29,7,'PAYMENT_RECEIVED',30.00,'2025-11-12 08:28:27'),(30,8,'PURCHASE',-120.00,'2025-11-12 09:32:48'),(31,7,'PAYMENT_RECEIVED',120.00,'2025-11-12 09:32:48'),(32,2,'WITHDRAWAL',-4.00,'2025-11-13 06:10:07'),(33,2,'WITHDRAWAL',-1.00,'2025-11-13 06:31:12'),(34,2,'WITHDRAWAL',-4.00,'2025-11-13 06:31:41'),(35,1,'TOPUP',100.00,'2025-11-14 05:52:22'),(36,1,'TOPUP',100.00,'2025-11-14 05:52:51'),(37,1,'TOPUP',100.00,'2025-11-14 06:23:39'),(38,9,'TOPUP',100.00,'2025-11-14 06:50:47'),(39,9,'TOPUP',1000.00,'2025-11-14 07:16:36'),(40,9,'PURCHASE',-170.00,'2025-11-14 07:16:40'),(41,2,'PAYMENT_RECEIVED',170.00,'2025-11-14 07:16:40'),(42,2,'WITHDRAWAL',-500.00,'2025-11-14 08:25:17'),(43,8,'PURCHASE',-90.00,'2025-11-14 08:37:33'),(44,14,'PAYMENT_RECEIVED',60.00,'2025-11-14 08:37:33'),(45,2,'PAYMENT_RECEIVED',30.00,'2025-11-14 08:37:33'),(46,2,'WITHDRAWAL',-1000.00,'2025-11-17 02:12:16'),(47,1,'TOPUP',100.00,'2025-11-17 02:39:20'),(48,1,'PURCHASE',-330.00,'2025-11-17 02:39:23'),(49,7,'PAYMENT_RECEIVED',330.00,'2025-11-17 02:39:23'),(50,1,'PURCHASE',-320.00,'2025-11-17 07:00:30'),(51,14,'PAYMENT_RECEIVED',200.00,'2025-11-17 07:00:30'),(52,2,'PAYMENT_RECEIVED',30.00,'2025-11-17 07:00:30'),(53,7,'PAYMENT_RECEIVED',90.00,'2025-11-17 07:00:30'),(54,1,'TOPUP',100.00,'2025-11-19 04:34:22'),(55,1,'PURCHASE',-120.00,'2025-11-19 04:34:25'),(56,14,'PAYMENT_RECEIVED',120.00,'2025-11-19 04:34:25'),(57,1,'TOPUP',100.00,'2025-11-22 13:31:12'),(58,1,'TOPUP',100.00,'2025-11-23 13:50:06'),(59,1,'PURCHASE',-110.00,'2025-11-23 13:50:10'),(60,14,'PAYMENT_RECEIVED',60.00,'2025-11-23 13:50:10'),(61,2,'PAYMENT_RECEIVED',50.00,'2025-11-23 13:50:10'),(62,2,'WITHDRAWAL',-100.00,'2025-11-23 13:51:33'),(63,1,'PURCHASE',-200.00,'2025-11-23 16:23:05'),(64,2,'PAYMENT_RECEIVED',200.00,'2025-11-23 16:23:05'),(65,1,'PURCHASE',-40.00,'2025-11-24 03:04:37'),(66,14,'PAYMENT_RECEIVED',40.00,'2025-11-24 03:04:37'),(67,1,'PURCHASE',-80.00,'2025-11-24 03:32:39'),(68,14,'PAYMENT_RECEIVED',80.00,'2025-11-24 03:32:39'),(69,1,'TOPUP',100.00,'2025-11-24 07:10:47'),(70,1,'PURCHASE',-80.00,'2025-11-24 07:20:56'),(71,14,'PAYMENT_RECEIVED',80.00,'2025-11-24 07:20:56'),(72,14,'PAYMENT_RECEIVED',40.00,'2025-11-24 09:09:29'),(73,14,'PAYMENT_RECEIVED',20.00,'2025-11-24 09:14:48'),(74,1,'TOPUP',100.00,'2025-11-24 09:17:06'),(75,1,'PURCHASE',-30.00,'2025-11-24 09:17:08'),(76,2,'PAYMENT_RECEIVED',30.00,'2025-11-24 09:17:08'),(77,7,'PAYMENT_RECEIVED',60.00,'2025-11-25 02:53:58'),(78,2,'PAYMENT_RECEIVED',264.00,'2025-11-25 03:06:28'),(79,14,'PAYMENT_RECEIVED',60.00,'2025-11-25 03:10:09'),(80,7,'PAYMENT_RECEIVED',240.00,'2025-11-25 03:21:12'),(81,1,'TOPUP',100.00,'2025-11-25 06:47:04'),(82,1,'PURCHASE',-60.00,'2025-11-25 06:47:19'),(83,2,'PAYMENT_RECEIVED',60.00,'2025-11-25 06:47:19'),(84,14,'PAYMENT_RECEIVED',60.00,'2025-11-25 06:48:58'),(85,7,'WITHDRAWAL',-20.00,'2025-11-25 06:52:40'),(86,7,'WITHDRAWAL',-20.00,'2025-11-25 06:52:44'),(87,14,'PAYMENT_RECEIVED',40.00,'2025-11-25 07:35:59'),(88,7,'PAYMENT_RECEIVED',120.00,'2025-11-25 07:35:59'),(89,14,'PAYMENT_RECEIVED',60.00,'2025-11-25 08:27:38');
/*!40000 ALTER TABLE `wallet_transactions` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-11-26  9:26:16
